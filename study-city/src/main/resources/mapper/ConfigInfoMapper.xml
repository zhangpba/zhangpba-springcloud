<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://www.mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.study.city.mapper.ConfigInfoMapper">
    <resultMap id="configInfoResultMap" type="com.study.starter.vo.config.ConfigInfo">
        <id property="id" column="id"/>
        <result property="key" column="key"/>
        <result property="value" column="value"/>
        <result property="application" column="application"/>
        <result property="profile" column="profile"/>
        <result property="label" column="label"/>
        <result property="createDate" column="create_date"/>
    </resultMap>

    <sql id="selectConfigInfoFields">
        c.id,
        c.key ,
        c.value,
        c.application,
        c.profile,
        c.label,
        c.create_date
    </sql>

    <insert id="addConfigInfo" parameterType="com.study.starter.vo.config.ConfigInfo">
        insert into config_info
        (
        <if test="key != null and key !=''">
            `key`,
        </if>
        <if test="value != null and value !=''">
            `value`,
        </if>
        <if test="application != null and application !=''">
            application,
        </if>
        <if test="profile != null and profile !=''">
            profile,
        </if>
        <if test="label != null and label !=''">
            `label`,
        </if>
        create_date)
        values
        (
        <if test="key != null and key !=''">
            #{key},
        </if>
        <if test="value != null and value !=''">
            #{value},
        </if>
        <if test="application != null and application !=''">
            #{application},
        </if>
        <if test="profile != null and profile !=''">
            #{profile},
        </if>
        <if test="label != null and label !=''">
            #{label},
        </if>
        #{createDate})
    </insert>

    <select id="queryConfigInfos" resultMap="configInfoResultMap" parameterType="com.study.starter.vo.config.ConfigInfo">
        select
        <include refid="selectConfigInfoFields">
        </include>
        from config_info c
        where 1 = 1
        <if test="id != null and id !=''">
            and id = #{id}
        </if>
        <if test="key != null and key !=''">
            and `key` = #{key}
        </if>
        <if test="value != null and value !=''">
            and `value` = #{value}
        </if>
        <if test="application != null and application !=''">
            and application = #{application}
        </if>
        <if test="profile != null and profile !=''">
            and profile = #{profile}
        </if>
        <if test="label != null and label !=''">
            and label = #{label}
        </if>
    </select>

    <select id="queryConfigInfo" resultMap="configInfoResultMap" parameterType="com.study.starter.vo.config.ConfigInfo">
        select
        <include refid="selectConfigInfoFields">
        </include>
        from config_info c
        where 1 = 1
        <if test="id != null and id !=''">
            and id = #{id}
        </if>
        <if test="key != null and key !=''">
            and `key` = #{key}
        </if>
        <if test="value != null and value !=''">
            and `value` = #{value}
        </if>
        <if test="application != null and application !=''">
            and application = #{application}
        </if>
        <if test="profile != null and profile !=''">
            and profile = #{profile}
        </if>
        <if test="label != null and label !=''">
            and label = #{label}
        </if>
    </select>
</mapper>